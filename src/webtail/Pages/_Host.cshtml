@page "/"
@namespace webtail.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";
}
<script>
    function copyToClipboard(text) {
        navigator.clipboard.writeText(text)
            .then(() => console.log('Copied to clipboard'))
            .catch(err => console.error('Failed to copy: ', err));
    }
        async function pickDirectory() {
        try {
            const dirHandle = await window.showDirectoryPicker();
            let files = [];

            // Recursive function to walk folders
            async function readDir(handle, path) {
                for await (const [name, entry] of handle.entries()) {
                    if (entry.kind === "file") {
                        files.push(path + name);
                    } else if (entry.kind === "directory") {
                        await readDir(entry, path + name + "/");
                    }
                }
            }

            await readDir(dirHandle, "");
            return files;
        } catch (err) {
            console.error("Directory picking cancelled or failed", err);
            return [];
        }
    }
</script>


<component type="typeof(App)" render-mode="ServerPrerendered" />
